---
title: Vue中data为什么必须是一个函数？
date: 2021-07-09 14:19:14
permalink: /pages/ccaa34/
categories:
  - 前端
  - Vue文章
tags:
  - vue
---
# Vue中data为什么必须是一个函数？

### 解析：

组件相当于一个可复用的`Vue`实例，一个组件被创建好后，就可能被用在各个地方，而组件不管复用多少次，组件内的`data`数据都应该是相互隔离、互不影响的，基于这个理念，组件每服用一次，`data`数据就会被复制一次，当某一处复用的组件内的data数据发生改变时，其它复用的组件内的`data`数据不会收到影响。

<!-- more -->

例如，有这么个组件，被复用了3次，它们各自维护各自内部的`data`数据，互不影响。

```vue
<template>
  <div class="test-components">
    <h1>按钮被点击了{{ count }}次</h1>
    <button @click="count++">click</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      count: 0,
    };
  },
};
```

<img src="https://img2018.cnblogs.com/blog/1460995/201810/1460995-20181030131124207-306386952.gif" style="display:inline-block" />

如果，我们将上面的data改成这样的话：

```vue
data:{
	count:0
}
```

<img src="https://img2018.cnblogs.com/blog/1460995/201810/1460995-20181030131141792-162150606.png" style="display:inline-block"/>

点击其中一个组件，其它组件也相继改变了。

### 总结：

综上所述，组件中的`data`写成函数的形式的话，数据以函数返回值的形式定义，这样每复用一次组件，就会返回一份新的`data`，相当于给每个组件实例创建一个私有的数据空间，让组件实例维护各自的数据。而单纯写成对象形式，就使得所有组件实例共用了一份`data`，就会发生一个变全部都变的情况。

参考：[vue组件中的data为什么是一个函数](https://www.cnblogs.com/wangjiachen666/p/9876266.html)