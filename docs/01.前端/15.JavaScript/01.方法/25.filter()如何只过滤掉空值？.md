---
title: filter()如何只过滤掉空值？
date: 2021-10-06 16:26:18
permalink: /pages/46810a/
categories:
  - 前端
  - JavaScript
  - 方法
tags:
  - 
---
# Array.filter()如何只过滤掉空值？

场景：

假设有一个数组`[0, , 1, "a"]`，如何过滤掉空值并且保留元素0？

```js
let arr = [0, false, null, undefined, , 1, "a"]
let newArr = arr.filter(ele => {
    return ele
})
console.log(newArr); // [1,'a']
```

一般情况下filter()默认会将数组中的0、false、null等过滤。

我们可以通过判断数组元素ele与arr[index]是否相等的方式来过滤掉空值并保留0、false等值。具体如下：

```js
let arr = [0, , false, null, undefined, 1, "a"]
let newArr = arr.filter((ele,index,arr) => {
    return ele === arr[index]
})
console.log(arr) // [0, empty, false, null, undefined, 1, "a"]
console.log(newArr); // [0, false, null, undefined, 1, "a"]
```
