---
title: å› ä¸ºæ•°æ®ç±»å‹å¯¼è‡´çš„æ’åºé”™ä¹±é—®é¢˜
date: 2022-02-24 16:46:42
permalink: /pages/251c87/
categories:
  - å‰ç«¯
  - JavaScript
  - æ–¹æ³•
tags:
  - js
---
# å› ä¸ºæ•°æ®ç±»å‹å¯¼è‡´çš„æ’åºé”™ä¹±é—®é¢˜

## å‰è¨€

ä»Šå¤©åœ¨ç ä»£ç çš„æ—¶å€™é‡åˆ°ä¸€ä¸ªå›¾ç‰‡é¡ºåºé”™ä¹±çš„bugï¼ŒåŸå› æ˜¯åç«¯ç»™åˆ°çš„æ•°æ®é¡ºåºæ˜¯é”™ä¹±çš„ï¼Œæ‰€ä»¥å‰ç«¯éœ€è¦æ ¹æ®æ•°æ®çš„`index`å€¼è¿›è¡Œé™åºæ’åºã€‚æ•°æ®ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š

```json
  {
    "data": [
      {
        "description": "",
        "index": "1"
      },
      {
        "description": "",
        "index": "2"
      },
      {
        "description": "",
        "index": "5"
      },
      {
        "description": "",
        "index": "3"
      },
      {
        "description": "",
        "index": "4"
      },
      {
        "description": "",
        "index": "7"
      },
      {
        "description": "",
        "index": "6"
      },
      {
        "description": "",
        "index": "9"
      },
      {
        "description": "",
        "index": "8"
      },
      {
        "description": "",
        "index": "10"
      }
    ]
  }
```

è¿™ä¸ªæ•°æ®ç»“æ„å¾ˆç®€å•å•Šï¼Œæˆ‘ä»¬åªéœ€è¦æŒ‰ç…§`index`è¿›è¡Œé¡ºåºæ’åºå°±å¥½äº†ã€‚

å¾ˆå¿«å•Šï¼Œä¸‰ä¸¤ä¸‹ç®€å•å†™äº†ä¸ªå†’æ³¡æ’åºï¼Œå¹¶ä¸”æœ¬åœ°æµ‹è¯•ä¹Ÿéƒ½é€šè¿‡äº†ï¼Œæ²¡é—®é¢˜èµ¶ç´§æäº†ä»£ç ã€‚

ç„¶é¹…ï¼Œä»£ç ä¸Šçº¿ä»¥åå›¾ç‰‡é¡ºåºè¿˜æ˜¯é”™çš„...æ— è¯­ğŸ˜­

å…ˆåˆ†æä¸€ä¸‹é”™è¯¯åŸå› ï¼š

```js
function bubbleSort(arr) {
  var len = arr.length;
  for (var i = 0; i < len; i++) {
    for (var j = 0; j < len - 1 - i; j++) {
      if (arr[j].index > arr[j + 1].index) { // <--å°±æ˜¯è¿™é‡Œå‡ºé”™äº†ï¼Œæ²¡æœ‰è€ƒè™‘indexçš„ç±»å‹
        var temp = arr[j + 1];
        arr[j + 1] = arr[j];
        arr[j] = temp;
      }
    }
  }
  return arr;
}
```

é—®é¢˜å°±åœ¨äºç”¨äºæ’åºçš„`index`æ˜¯`String`ç±»å‹ï¼Œè€Œä¸”æœ¬åœ°æµ‹è¯•çš„æ—¶å€™æ²¡æœ‰è€ƒè™‘åˆ°å›¾ç‰‡æ•°é‡å¤§äº10çš„æƒ…å†µã€‚åœ¨`index`å°äº10çš„æ—¶å€™ï¼Œä»£ç ä¸­çš„åˆ¤æ–­å¯ä»¥æ­£å¸¸æ‰§è¡Œï¼Œä½†å½“`index`å¤§äº10çš„æ—¶å€™ï¼Œå­—ç¬¦ä¸²10å¦‚æœç›´æ¥æ¯”è¾ƒä¼šè¢«æ‹†åˆ†æˆ1å’Œ0ï¼Œç„¶ååˆ†åˆ«å’Œå¦ä¸€è¾¹æ¯”è¾ƒã€‚è¿™æ—¶ä»£ç åˆ¤æ–­å°±æœ‰é—®é¢˜äº†ï¼Œ`index`ä¸º10ä¼šè¢«æ’åˆ°`index`ä¸º2çš„å‰é¢ã€‚

ä¸è¿‡ï¼Œè§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œå°†è¿›è¡Œæ¯”è¾ƒçš„å€¼è½¬æˆ`Number`ç±»å‹å³å¯ï¼š

```diff
function bubbleSort(arr) {
  var len = arr.length;
  for (var i = 0; i < len; i++) {
    for (var j = 0; j < len - 1 - i; j++) {
-      if (arr[j].index > arr[j + 1].index) {
+      if (parseInt(arr[j].index) > parseInt(arr[j + 1].index)) {
        var temp = arr[j + 1];
        arr[j + 1] = arr[j];
        arr[j] = temp;
      }
    }
  }
  return arr;
}
```

æ‰€ä»¥å†™ä»£ç çš„æ—¶å€™è¿˜æ˜¯è¦å¤šç»†å¿ƒæ‰è¡Œå‘€...

## æ‰©å±•

### sort()æ–¹æ³•

ä½¿ç”¨`sort()`æ–¹æ³•å¯ä»¥å¯¹æ•°ç»„å¯¹è±¡è¿›è¡Œæ’åºå¯ä»¥è¿™ä¹ˆå†™ï¼š

```js
// æ–¹æ³•1
function sortTo(arr) {
  return arr.sort((a, b) => {
    return a['index'] - b['index'];
  })
}

sortTo(arr);
```

### å†’æ³¡æ’åº

```js
function bubbleSort(arr) {
  var len = arr.length;
  for (var i = 0; i < len; i++) {
    for (var j = 0; j < len - 1 - i; j++) {
      if ((arr[j].index) > (arr[j + 1].index)) {        //ç›¸é‚»å…ƒç´ ä¸¤ä¸¤å¯¹æ¯”
        var temp = arr[j + 1];        //å…ƒç´ äº¤æ¢
        arr[j + 1] = arr[j];
        arr[j] = temp;
      }
    }
  }
  return arr;
}
```

### é€‰æ‹©æ’åº

```js
function selectionSort(arr) {
    var len = arr.length;
    var minIndex, temp;
    for (var i = 0; i < len - 1; i++) {
        minIndex = i;
        for (var j = i + 1; j < len; j++) {
            if (arr[j] < arr[minIndex]) {     //å¯»æ‰¾æœ€å°çš„æ•°
                minIndex = j;                 //å°†æœ€å°æ•°çš„ç´¢å¼•ä¿å­˜
            }
        }
        temp = arr[i];
        arr[i] = arr[minIndex];
        arr[minIndex] = temp;
    }
    return arr;
}
```

### å¿«é€Ÿæ’åº

```js
function quickSort(arr, left, right) {
    var len = arr.length,
        partitionIndex,
        left = typeof left != 'number' ? 0 : left,
        right = typeof right != 'number' ? len - 1 : right;

    if (left < right) {
        partitionIndex = partition(arr, left, right);
        quickSort(arr, left, partitionIndex-1);
        quickSort(arr, partitionIndex+1, right);
    }
    return arr;
}

function partition(arr, left ,right) {     //åˆ†åŒºæ“ä½œ
    var pivot = left,                      //è®¾å®šåŸºå‡†å€¼ï¼ˆpivotï¼‰
        index = pivot + 1;
    for (var i = index; i <= right; i++) {
        if (arr[i] < arr[pivot]) {
            swap(arr, i, index);
            index++;
        }        
    }
    swap(arr, pivot, index - 1);
    return index-1;
}

function swap(arr, i, j) {
    var temp = arr[i];
    arr[i] = arr[j];
    arr[j] = temp;
}
```

ç²¾ç®€ç‰ˆï¼š

```js
function quickSort(array) {
  if (array.length < 2) return array; // é€’å½’å‡ºå£
  let pivot = array[array.length - 1] // å–åˆ†ç•Œç‚¹
  // å–åˆ†ç•Œç‚¹å·¦è¾¹çš„æ•°ç»„ï¼ˆä¸åŒ…æ‹¬æœ€åä¸€ä½ï¼Œæœ€åä¸€ä½æ˜¯åˆ†ç•Œç‚¹ï¼‰
  let left = array.filter((v, i) => v <= pivot && i != array.length - 1) 
  let right = array.filter(v => v > pivot) // å–åˆ†ç•Œç‚¹å³è¾¹çš„æ•°ç»„
  return [...quickSort(left), pivot, ...quickSort(right)] // é€’å½’æ’åºï¼Œåˆå¹¶ç»“æœ
}
```



å‚è€ƒæ–‡ç« ï¼š[jsåå¤§æ’åºç®—æ³• ](https://www.cnblogs.com/AlbertP/p/10847627.html)

[æ‰‹å†™ç®—æ³•å¹¶è®°ä½å®ƒï¼šå¿«é€Ÿæ’åºï¼ˆ5è¡Œä»£ç ç®€å•ç‰ˆï¼‰](https://juejin.cn/post/6844903938290876430#comment)

