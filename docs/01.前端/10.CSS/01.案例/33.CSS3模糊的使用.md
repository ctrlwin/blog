---
title: CSS3模糊的使用
date: 2021-08-20 11:23:33
permalink: /pages/d3bb54/
categories:
  - 前端
  - CSS
  - 案例
tags:
  - css
---
# CSS3模糊的使用

## 毛玻璃效果

::: demo [vanilla]

```html
<html>
<div class="container">
    <div class="content">
        <div class="text">
            "The only way to get rid of a temptation is to yield to it.
            Resist it, and your soul grows sick with longing for the things
            it has forbidden to itself, with desire for what its monstrous
            laws have made monstrous and unlawful."
        </div>
    </div>
</div>
</html>

<style>   
.container {
    min-height: 100vh;
    box-sizing: border-box;
    margin: 0 auto;
    padding: 10px;
    font: 110%/1.6 Baskerville, Palatina, serif;
    position: relative;
    z-index: 1; 
}

.container, .content::before {
    background: url("/blog/img/139.png") 0 / cover fixed;
}

.content {
    position: relative;
    margin: 0 auto;
    padding: 1em;
    max-width: 17em;
    background: hsla(0, 0%, 100%, .25) border-box;
    overflow: hidden;
    border-radius: .3em;
    box-shadow: 0 0 0 1px hsla(0, 0%, 100%, .3) inset,
        0 .5em 1em rgba(0, 0, 0, 0.6);
    text-shadow: 0 1px 1px hsla(0, 0%, 100%, .3);
}

.content::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: -30px; /*模糊在边缘会减弱，用margin:-30px扩大边距*/
    z-index: -1;
    -webkit-filter: blur(20px);
    filter: blur(20px);
    text-decoration: none;
    /**background: url("139.png") 0 / cover fixed;**/
}
.text{
    margin:15px;
    color:#111;
}
</style>
```

<!-- more -->

:::

```css
.container {
    min-height: 100vh;
    box-sizing: border-box;
    margin: 0;
    padding-top: calc(50vh - 6em);
    font: 150%/1.6 Baskerville, Palatina, serif;
    position: relative;
    z-index: 1; /*使用z-index确定层级关系，必须确保子元素是在最上层的*/
}

.container,
.content::before {
    background: url("139.png") 0 / cover fixed;
}

.content {
    position: relative;
    margin: 0 auto;
    padding: 1em;
    max-width: 23em;
    background: hsla(0, 0%, 100%, .25) border-box;
    overflow: hidden;
    border-radius: .3em;
    box-shadow: 0 0 0 1px hsla(0, 0%, 100%, .3) inset,
        0 .5em 1em rgba(0, 0, 0, 0.6);
    text-shadow: 0 1px 1px hsla(0, 0%, 100%, .3);
}

.content::before {
    content: '';
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    margin: -30px; /*模糊在边缘会减弱，用margin:-30px扩大边距*/
    z-index: -1;
    -webkit-filter: blur(20px);
    filter: blur(20px);
    text-decoration: none;
}
.text{
    margin:40px;
}
```

```html
<div class="container">
    <div class="content">
        <div class="text">
            "The only way to get rid of a temptation is to yield to it.
            Resist it, and your soul grows sick with longing for the things
            it has forbidden to itself, with desire for what its monstrous
            laws have made monstrous and unlawful."
        </div>
    </div>
</div>
```

## 背景模糊局部清晰

背景局部清晰效果需要使用`background:inherit`属性，来继承父元素背景。

简单来说，伪元素`after`通过`inherit`属性继承了`container`的背景，并设置全屏大小和模糊效果；`content`也继承了`container`的背景，但是没有设置模糊效果。这样就实现背景局部清晰的效果了。

注意！子元素不能使用transform来定位了，会影响最终效果。

::: demo [vanilla]

```html
<html>
    <div class="container1">
        <div class="content1">
            <div class="text1">
                something like this...
            </div>
        </div>
    </div>
</html>
<style>
.container1 {
    min-height: 100vh;
    box-sizing: border-box;
    font: 110%/1.6 Baskerville, Palatina, serif;
    position: relative;
    z-index: 1;
    background: url("/blog/img/139.png") 0 / cover fixed;
}

.container1::after{
    content: "";
    width:100%;
    height:100%;
    position: absolute;
    left:0;
    top:0;
    background: inherit;
    filter: blur(3px);
    z-index: 1;
}

.content1{
    position: absolute;
    left:20%;
    top:10%;
    width:200px;
    height:200px;
    text-align: center;
    background: inherit;
    z-index:11;
    box-shadow:  0 0 10px 6px rgba(0,0,0,.5);
}
.text1{
    margin:40px;
    color:#111;
}
</style>
```

:::

```css
.container {
    min-height: 100vh;
    box-sizing: border-box;
    font: 110%/1.6 Baskerville, Palatina, serif;
    position: relative;
    z-index: 1;
    background: url("139.png") 0 / cover fixed;
}

.container::after{
    content: "";
    width:100%;
    height:100%;
    position: absolute;
    left:0;
    top:0;
    background: inherit;
    filter: blur(3px);
    z-index: 1;
}

.content{
    position: absolute;
    left:40%;
    top:30%;
    width:200px;
    height:200px;
    text-align: center;
    background: inherit;
    z-index:11;
    box-shadow:  0 0 10px 6px rgba(0,0,0,.5);
}
.text{
    margin:40px;
}
```

```html
<div class="container">
    <div class="content">
        <div class="text">
            something like this...
        </div>
    </div>
</div>
```

